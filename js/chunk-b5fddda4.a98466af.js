(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5fddda4"],{"037a":function(t,s,i){"use strict";i("29ee")},1403:function(t,s,i){},"29ee":function(t,s,i){},"8fb1":function(t,s,i){},c228:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart"},[t.isShow?i("div",[i("cart-list",{attrs:{cartList:t.cartList}}),i("cart-computed",{on:{hidecart:t.hidecart}})],1):i("div",{staticClass:"is_none"},[i("div",{staticClass:"text"},[t._v("您的購物車還是空的")]),i("div",{staticClass:"go_new"},[i("a",{attrs:{href:"/new"},on:{click:t.goNew}},[t._v("來去逛逛吧！")])])])])},a=[],c=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart_list clearfix"},[i("div",{staticClass:"goods_box goods_item"},[i("label",{staticClass:"check",class:{current:t.checkAll},attrs:{for:"checkAllbox"},on:{click:function(s){return s.preventDefault(),t.setAll(s)}}},[i("input",{attrs:{type:"checkbox",id:"checkAllbox"}}),i("div",{staticClass:"fake"})]),i("div",{staticClass:"goods_img img_title"},[t._v("商品圖片")]),i("div",{staticClass:"goods_name name_title"},[t._v("商品名稱")]),i("div",{staticClass:"size size_title"},[t._v("尺寸")]),i("div",{staticClass:"price price_title"},[t._v("特價/原價")]),i("div",{staticClass:"quantity-form quantity_title"},[t._v("數量")]),i("div",{staticClass:"delete delete_title"},[t._v("操作")])]),t._l(t.cartList,(function(s,e){return i("div",{key:e,staticClass:"goods_box"},[i("label",{staticClass:"check",class:{current:s.status},attrs:{for:"checkbox"},on:{click:function(i){return i.preventDefault(),t.checked(s.id,s.goodsSize)}}},[i("input",{attrs:{type:"checkbox",id:"checkbox"}}),i("div",{staticClass:"fake"})]),i("div",{staticClass:"goods_img"},[i("img",{attrs:{src:s.img,alt:""}})]),i("div",{staticClass:"goods_name"},[t._v(t._s(s.goodsName))]),i("div",{staticClass:"size"},[t._v(t._s(s.goodsSize))]),i("div",{staticClass:"price"},[i("span",{staticClass:"new_price"},[t._v("$NT"+t._s(s.newPrice))]),t._v(" / "),i("span",{staticClass:"old_price"},[t._v("$NT"+t._s(s.oldPrice))])]),i("div",{staticClass:"quantity-form"},[i("span",{staticClass:"decrement",on:{click:function(i){return t.decrement(s.id,s.goodsSize)}}},[t._v("-")]),i("input",{staticClass:"itxt",attrs:{type:"text",oninput:"value=value.replace(/[^\\d]/g,'')"},domProps:{value:s.count},on:{change:function(i){return t.setCount(s.id,s.goodsSize)}}}),i("span",{staticClass:"increment",on:{click:function(i){return t.increment(s.id,s.goodsSize)}}},[t._v("+")])]),i("div",{staticClass:"delete"},[i("span",{on:{click:function(i){return t.removeGoods(s.id,s.goodsSize)}}},[t._v("刪除")])])])}))],2)},r=[];function o(t,s,i){const e=t.filter(t=>t.id==s&&t.goodsSize==i);return e[0]}function n(t){let s=JSON.parse(localStorage.getItem("login"));s.cartList=t,s=JSON.stringify(s),localStorage.setItem("login",s)}function l(t){let s=JSON.parse(localStorage.getItem("login"));s.cartList=t,s=JSON.stringify(s),localStorage.setItem("login",s)}var d={name:"CartList",data(){return{allIcon:!1,keydata:"forOnlyhd"}},props:{cartList:{type:Array,default(){return[]}}},methods:{decrement(t,s){const i=o(this.cartList,t,s);i.count<1||(i.count--,l(this.cartList))},increment(t,s){const i=o(this.cartList,t,s);i.count++,l(this.cartList)},setCount(t,s){const i=parseInt(event.target.value),e=o(this.cartList,t,s);e.count=i,l(this.cartList)},removeGoods(t,s){const i=o(this.cartList,t,s),e=this.cartList.indexOf(i);this.cartList.splice(e,1),l(this.cartList)},checked(t,s){const i=o(this.cartList,t,s);i.status=!i.status,l(this.cartList)},setAll(){this.allIcon=!this.allIcon,this.allIcon?this.cartList.forEach(t=>{t.status=!0}):this.cartList.forEach(t=>{t.status=!1})}},computed:{checkAll(){if(0!==this.cartList.length){const t=this.cartList.some(t=>!1===t.status);return this.allIcon=!t,!t}return!1}}},u=d,h=(i("dc1d"),i("2877")),v=Object(h["a"])(u,c,r,!1,null,"12f9a008",null),_=v.exports,f=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cart_computed"},[i("div",{staticClass:"cart_wrap clearfix"},[i("div",{staticClass:"computed_box"},[i("div",{staticClass:"freeInfo"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.free,expression:"!free"}],staticClass:"text"},[i("span",{staticClass:"free"},[t._v("免運費")]),t._v("您已達到NT$1000免運費門檻了。 ")]),i("div",{staticClass:"goods_total"},[i("span",[t._v("商品總金額")]),i("span",[t._v(t._s(t.goodsTotal))])]),i("div",{staticClass:"curry"},[t._v(" 運費"),t.curry?i("span",[t._v("100")]):i("span",[t._v("0")])]),i("div",{staticClass:"total_price"},[i("span",[t._v("總金額：")]),i("span",{staticClass:"total_box"},[t._v("NT."+t._s(t.priceTotal))])])])])]),i("div",{staticClass:"continue"},[t._v("CONTINUE")])])},p=[],m={name:"CartComputed",data(){return{cartList:[]}},created(){this.cartList=this.$store.state.cartList},computed:{goodsTotal(){let t=0;return this.cartList.forEach(s=>{s.status&&(t+=s.count*s.newPrice)}),t},priceTotal(){const t=this.goodsTotal,s=this.curry;return s?0==t&&0==this.cartList.length?void this.$emit("hidecart"):t+100:0==t&&0==this.cartList.length?void this.$emit("hidecart"):t},free(){const t=this.goodsTotal;return 0===t||!(t>=1e3)},curry(){const t=this.goodsTotal;return!(0===t||t>=1e3)}}},C=m,g=(i("037a"),Object(h["a"])(C,f,p,!1,null,"1619b450",null)),L=g.exports,k={name:"Cart",data(){return{cartList:[],isShow:!1}},components:{CartList:_,CartComputed:L},mounted(){window.scroll(0,0),this.cartList=this.$store.state.cartList,this.cartList.length>0?this.isShow=!0:this.isShow=!1,document.title=this.$route.meta.title,n(this.cartList)},methods:{goNew(){event.preventDefault(),this.$router.push("/new")},hidecart(){this.isShow=!1}}},w=k,b=(i("f733"),Object(h["a"])(w,e,a,!1,null,"06ea3e6d",null));s["default"]=b.exports},dc1d:function(t,s,i){"use strict";i("8fb1")},f733:function(t,s,i){"use strict";i("1403")}}]);
//# sourceMappingURL=chunk-b5fddda4.a98466af.js.map